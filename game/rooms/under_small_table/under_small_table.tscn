[gd_scene load_steps=15 format=3 uid="uid://b7doqmnwjn3fu"]

[ext_resource type="Script" uid="uid://c7fcpp72w3dnj" path="res://addons/escoria-core/game/core-scripts/esc_room.gd" id="1_wjrlp"]
[ext_resource type="PackedScene" uid="uid://to7jy7utp6qo" path="res://game/characters/player.scn" id="2_vq04j"]
[ext_resource type="Texture2D" uid="uid://bo33fm5poxvkn" path="res://game/rooms/under_small_table/img/under_table_L.png" id="3_n0bib"]
[ext_resource type="Script" uid="uid://fnwnfflaoeqp" path="res://addons/escoria-core/game/core-scripts/esc_background.gd" id="4_yhq05"]
[ext_resource type="Script" uid="uid://5pbcieq7gpdo" path="res://addons/escoria-core/game/core-scripts/esc_terrain.gd" id="5_ipsqu"]
[ext_resource type="Script" uid="uid://beh3ds4eapldu" path="res://addons/escoria-core/game/core-scripts/esc_location.gd" id="6_6qapp"]
[ext_resource type="Texture2D" uid="uid://c0l3hemkynpli" path="res://game/rooms/under_small_table/img/under_table_scale.png" id="6_n0bib"]
[ext_resource type="Script" uid="uid://btt4cprco53ec" path="res://addons/escoria-core/game/core-scripts/esc_exit.gd" id="7_vq04j"]
[ext_resource type="Texture2D" uid="uid://d11nnjph5abnd" path="res://game/rooms/under_small_table/img/under_table_shoelace_positioned.png" id="9_6qapp"]
[ext_resource type="PackedScene" uid="uid://ii62yf8jgbta" path="res://game/items/inventory/elastic_rubber.tscn" id="9_yhq05"]
[ext_resource type="Script" uid="uid://chu4bvqgwxuts" path="res://addons/escoria-core/game/core-scripts/esc_interaction_location.gd" id="10_ipsqu"]
[ext_resource type="Script" uid="uid://dshelmw7y44qg" path="res://addons/escoria-core/game/core-scripts/esc_item.gd" id="12_dp2ss"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_wjrlp"]
vertices = PackedVector2Array(845.57, 477.977, 884.82, 508.172, 129.922, 512.813, 178.352, 476.008)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(100, 523, 175, 466, 849, 468, 914, 518)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1awqk"]
size = Vector2(216, 94)

[node name="under_small_table" type="Node2D"]
script = ExtResource("1_wjrlp")
global_id = "under_small_table"
esc_script = "res://game/rooms//under_small_table/scripts/under_small_table.esc"
player_scene = ExtResource("2_vq04j")

[node name="Background" type="TextureRect" parent="."]
mouse_filter = 2
texture = ExtResource("3_n0bib")
script = ExtResource("4_yhq05")

[node name="WalkableArea" type="Node2D" parent="."]
script = ExtResource("5_ipsqu")
scales = ExtResource("6_n0bib")
scale_min = 0.1
scale_max = 0.1
player_speed_multiplier = 4.0
player_doubleclick_speed_multiplier = 3.0

[node name="_NavigationRegion2D_52717" type="NavigationRegion2D" parent="WalkableArea"]
position = Vector2(-11, -16)
navigation_polygon = SubResource("NavigationPolygon_wjrlp")

[node name="StartPos" type="Marker2D" parent="."]
position = Vector2(499, 469)
script = ExtResource("6_6qapp")
global_id = "under_small_table_start_pos"
is_start_location = true

[node name="Exits" type="Node2D" parent="."]
position = Vector2(499, 469)

[node name="exit_bedroom_r_" type="Area2D" parent="Exits"]
script = ExtResource("7_vq04j")
target_scene = "uid://bnsxbh123ncm2"
global_id = "exit_bedroom_r_"
tooltip_name = "Bed Room"
metadata/_custom_type_script = "uid://btt4cprco53ec"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Exits/exit_bedroom_r_"]
polygon = PackedVector2Array(-387, 30, -395, 70, 420, 72, 371, 27)

[node name="ESCLocation" type="Marker2D" parent="Exits/exit_bedroom_r_"]
position = Vector2(-26, 17)
script = ExtResource("6_6qapp")
metadata/_custom_type_script = "uid://beh3ds4eapldu"

[node name="exit_bedroom_r_2" type="Area2D" parent="Exits"]
script = ExtResource("7_vq04j")
target_scene = "uid://bnsxbh123ncm2"
global_id = "exit_bedroom_r_2"
tooltip_name = "Bed Room"
metadata/_custom_type_script = "uid://btt4cprco53ec"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Exits/exit_bedroom_r_2"]
polygon = PackedVector2Array(342, -14, 391, 27, 457, 25, 452, -18)

[node name="ESCLocation" type="Marker2D" parent="Exits/exit_bedroom_r_2"]
position = Vector2(342, 0)
script = ExtResource("6_6qapp")
metadata/_custom_type_script = "uid://beh3ds4eapldu"

[node name="exit_above_table_l_" type="Area2D" parent="Exits"]
script = ExtResource("7_vq04j")
target_scene = "uid://d3rmihtjyvjv1"
global_id = "exit_above_table_l_"
tooltip_name = "Above Small Table"
is_exit = true
metadata/_custom_type_script = "uid://btt4cprco53ec"

[node name="Sprite2D" type="Sprite2D" parent="Exits/exit_above_table_l_"]
position = Vector2(353, -169)
texture = ExtResource("9_6qapp")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Exits/exit_above_table_l_"]
position = Vector2(-3.05176e-05, 731.099)
scale = Vector2(1, 2.42154)
polygon = PackedVector2Array(255, -468, 258, -331, 434, -332, 430, -472)

[node name="ESCLocation" type="Marker2D" parent="Exits/exit_above_table_l_"]
position = Vector2(274, 13)
script = ExtResource("6_6qapp")
metadata/_custom_type_script = "uid://beh3ds4eapldu"

[node name="RoomObjects" type="Node2D" parent="."]

[node name="ElastiRubber" parent="RoomObjects" instance=ExtResource("9_yhq05")]
position = Vector2(186, 476)
scale = Vector2(6.415, 6.415)

[node name="ESCInteractionLocation" type="Marker2D" parent="RoomObjects/ElastiRubber"]
position = Vector2(10.2884, 2.0265)
script = ExtResource("10_ipsqu")
metadata/_custom_type_script = "uid://chu4bvqgwxuts"

[node name="AncorPoint" type="Area2D" parent="RoomObjects"]
process_mode = 1
script = ExtResource("12_dp2ss")
global_id = "ancor_point"
esc_script = "res://game/rooms/under_small_table/scripts/ancor_point.esc"
tooltip_name = "Umberella"
default_action = "look"
combine_when_selected_action_is_in = PackedStringArray()
metadata/_custom_type_script = "uid://dshelmw7y44qg"

[node name="ESCInteractionLocation" type="Marker2D" parent="RoomObjects/AncorPoint"]
position = Vector2(723, 473)
script = ExtResource("10_ipsqu")
metadata/_custom_type_script = "uid://chu4bvqgwxuts"

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomObjects/AncorPoint"]
position = Vector2(840, 49)
shape = SubResource("RectangleShape2D_1awqk")
