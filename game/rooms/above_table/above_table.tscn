[gd_scene load_steps=15 format=3 uid="uid://d3rmihtjyvjv1"]

[ext_resource type="Script" uid="uid://c7fcpp72w3dnj" path="res://addons/escoria-core/game/core-scripts/esc_room.gd" id="1_hvm6r"]
[ext_resource type="PackedScene" uid="uid://to7jy7utp6qo" path="res://game/characters/player.scn" id="2_qdo4a"]
[ext_resource type="Script" uid="uid://fnwnfflaoeqp" path="res://addons/escoria-core/game/core-scripts/esc_background.gd" id="2_wg8jh"]
[ext_resource type="Texture2D" uid="uid://df2vbnqhbxeeo" path="res://game/rooms/above_table/img/top_table_L.png" id="2_xx5om"]
[ext_resource type="Script" uid="uid://5pbcieq7gpdo" path="res://addons/escoria-core/game/core-scripts/esc_terrain.gd" id="3_xx5om"]
[ext_resource type="Script" uid="uid://beh3ds4eapldu" path="res://addons/escoria-core/game/core-scripts/esc_location.gd" id="4_3j8cy"]
[ext_resource type="Script" uid="uid://btt4cprco53ec" path="res://addons/escoria-core/game/core-scripts/esc_exit.gd" id="6_3j8cy"]
[ext_resource type="Texture2D" uid="uid://cocds7yg0n2io" path="res://game/rooms/above_table/img/hairbrush2_L.png" id="8_6a4e4"]
[ext_resource type="PackedScene" uid="uid://4wxkd0rycjs3" path="res://game/characters/fly/fly.tscn" id="8_74tyq"]
[ext_resource type="Script" uid="uid://chu4bvqgwxuts" path="res://addons/escoria-core/game/core-scripts/esc_interaction_location.gd" id="9_276b5"]
[ext_resource type="PackedScene" uid="uid://b75ij74uuv84e" path="res://game/items/inventory/ruller.tscn" id="10_um5fh"]
[ext_resource type="Script" uid="uid://dshelmw7y44qg" path="res://addons/escoria-core/game/core-scripts/esc_item.gd" id="12_hu8jf"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_xx5om"]
vertices = PackedVector2Array(727.883, 273.906, 675.398, 463.922, 80.2188, 458.141, 162.508, 270.039)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(156, 260, 741, 264, 683, 474, 65, 468)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5lvyp"]
size = Vector2(218, 143)

[node name="AboveTable" type="Node2D"]
script = ExtResource("1_hvm6r")
global_id = "above_table_room"
esc_script = "res://game/rooms/above_table/scripts/above_table.esc"
player_scene = ExtResource("2_qdo4a")
metadata/_custom_type_script = "uid://c7fcpp72w3dnj"

[node name="ESCBackground" type="TextureRect" parent="."]
offset_right = 962.0
offset_bottom = 587.0
mouse_filter = 2
texture = ExtResource("2_xx5om")
expand_mode = 1
stretch_mode = 4
script = ExtResource("2_wg8jh")
metadata/_custom_type_script = "uid://fnwnfflaoeqp"

[node name="ESCTerrain" type="Node2D" parent="."]
script = ExtResource("3_xx5om")
scale_min = 0.1
scale_max = 0.1
player_speed_multiplier = 4.0
player_doubleclick_speed_multiplier = 3.0
metadata/_custom_type_script = "uid://5pbcieq7gpdo"

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="ESCTerrain"]
navigation_polygon = SubResource("NavigationPolygon_xx5om")

[node name="Exits" type="Node2D" parent="."]

[node name="enter_under_small_table_r_" type="Area2D" parent="Exits"]
script = ExtResource("6_3j8cy")
target_scene = "uid://b7doqmnwjn3fu"
global_id = "enter_under_small_table_r_"
tooltip_name = "Bed Room"
is_exit = true
metadata/_custom_type_script = "uid://btt4cprco53ec"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Exits/enter_under_small_table_r_"]
polygon = PackedVector2Array(682, 464, 710, 369, 892, 377, 956, 382, 959, 538, 682, 536)

[node name="ESCLocation" type="Marker2D" parent="Exits/enter_under_small_table_r_"]
position = Vector2(662, 449)
script = ExtResource("4_3j8cy")
metadata/_custom_type_script = "uid://beh3ds4eapldu"

[node name="enter_top_library_room_l_" type="Area2D" parent="Exits"]
script = ExtResource("6_3j8cy")
target_scene = "uid://cd85evwjvj4lf"
global_id = "enter_top_library_room_l_"
tooltip_name = "Top Library"
is_exit = true
metadata/_custom_type_script = "uid://btt4cprco53ec"

[node name="Sprite2D" type="Sprite2D" parent="Exits/enter_top_library_room_l_"]
position = Vector2(337, 204)
scale = Vector2(2.16667, 2.01299)
texture = ExtResource("8_6a4e4")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Exits/enter_top_library_room_l_"]
polygon = PackedVector2Array(253, 255, 249, 28, 460, 31, 453, 264)

[node name="ESCLocation" type="Marker2D" parent="Exits/enter_top_library_room_l_"]
position = Vector2(321, 285)
script = ExtResource("4_3j8cy")
metadata/_custom_type_script = "uid://beh3ds4eapldu"

[node name="RoomObjects" type="Node2D" parent="."]

[node name="Fly" parent="RoomObjects" instance=ExtResource("8_74tyq")]
position = Vector2(742, 163)
esc_script = "res://game/rooms/above_table/scripts/fly.esc"

[node name="ESCInteractionLocation" type="Marker2D" parent="RoomObjects/Fly"]
position = Vector2(-96, 170)
script = ExtResource("9_276b5")
metadata/_custom_type_script = "uid://chu4bvqgwxuts"

[node name="slide_fly_out_position" type="Marker2D" parent="RoomObjects"]
position = Vector2(-81, 467)
script = ExtResource("4_3j8cy")
global_id = "slide_fly_out_position"
metadata/_custom_type_script = "uid://beh3ds4eapldu"

[node name="Ruller" parent="RoomObjects" instance=ExtResource("10_um5fh")]
position = Vector2(225, 462)

[node name="ESCInteractionLocation" type="Marker2D" parent="RoomObjects/Ruller"]
position = Vector2(23, -47)
script = ExtResource("9_276b5")
metadata/_custom_type_script = "uid://chu4bvqgwxuts"

[node name="LadderPoint" type="Area2D" parent="RoomObjects"]
process_mode = 1
script = ExtResource("12_hu8jf")
global_id = "ladder_point"
esc_script = "res://game/rooms/above_table/scripts/ladder_point.esc"
tooltip_name = "WIFI cable"
default_action = "look"
combine_when_selected_action_is_in = PackedStringArray()
metadata/_custom_type_script = "uid://dshelmw7y44qg"

[node name="ESCInteractionLocation" type="Marker2D" parent="RoomObjects/LadderPoint"]
position = Vector2(322, 308)
script = ExtResource("9_276b5")
metadata/_custom_type_script = "uid://chu4bvqgwxuts"

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomObjects/LadderPoint"]
position = Vector2(349, 96.5)
shape = SubResource("RectangleShape2D_5lvyp")

[node name="StartPoint" type="Marker2D" parent="."]
position = Vector2(606, 409)
script = ExtResource("4_3j8cy")
global_id = "above_table_start_pos"
is_start_location = true
metadata/_custom_type_script = "uid://beh3ds4eapldu"
